<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>async await</title>
</head>
<body>
    
</body>

<script>

    function p1(num){
        return new Promise((resolve,reject)=>{
            setTimeout(()=>{
                if(num>=0){
                    resolve(num) 
                } else {
                    reject(num)
                }
            },400)
        })
    }
    
    function f1(){
        return 'f1'
    }
    async function test1(){
        // return 123 // Promise {<fulfilled>: 123}
        // await p1(1) // Promise {<pending>}
        return await  p1(1) // Promise {<pending>}

    }

    async function test2(){
        const res = await test1()
        console.log('==res==',res)
        return res
    }

    // const res2 = await test2() // await 必须放在 async 函数中
    // test2().then((res)=>{
    //     console.log('====',res)
    // })






    async function test3(){
        const res1 = await test1()
        console.log('==res2==',res1)
        const res2 = await 113
        console.log('==res2==',res2)

        const res3 = await f1()
        console.log('==res3==',res3)

        return {
            res1,
            res2,
            res3
        }
    }

    console.log('test3',test3())

</script>
</html>